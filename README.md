# ç»¿è‰²æ™ºèƒ½èˆ¹è‰‡å†œæ–‡æ—…å¹³å°

åŸºäºFastAPIæ¡†æ¶å¼€å‘çš„ç»¿è‰²æ™ºèƒ½èˆ¹è‰‡å†œæ–‡æ—…å¹³å°åç«¯APIç³»ç»Ÿã€‚

## é¡¹ç›®ç‰¹è‰²

- ğŸš¤ **æ™ºèƒ½èˆ¹è‰‡ç®¡ç†**: å®æ—¶èˆ¹è‰‡çŠ¶æ€ç›‘æ§å’Œç®¡ç†
- ğŸŒ¾ **å†œä¸šè§‚å…‰æœåŠ¡**: å†œä¸šåŸºåœ°æ¸¸è§ˆå’Œå†œäº§å“å±•ç¤º
- ğŸ›ï¸ **æ–‡åŒ–ä½“éªŒ**: ä¼ ç»Ÿæ–‡åŒ–å±•ç¤ºå’Œä½“éªŒæ´»åŠ¨
- ğŸï¸ **æ—…æ¸¸æœåŠ¡**: å®Œæ•´çš„æ—…æ¸¸è·¯çº¿å’Œæ™¯ç‚¹ç®¡ç†
- ğŸ‘¥ **å¤šè§’è‰²ç³»ç»Ÿ**: æ”¯æŒç®¡ç†å‘˜ã€å•†å®¶ã€ç”¨æˆ·ã€èˆ¹å‘˜å››ç§è§’è‰²

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: FastAPI 0.104.1
- **æ•°æ®åº“**: MySQL
- **ORM**: SQLAlchemy 2.0.23
- **è®¤è¯**: JWT (JSON Web Tokens)
- **å¯†ç åŠ å¯†**: bcrypt
- **APIæ–‡æ¡£**: Swagger/OpenAPI

## é¡¹ç›®ç»“æ„

```
BoatManagement_Backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ config/         # é…ç½®æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ settings.py # åº”ç”¨é…ç½®
â”‚   â”‚   â””â”€â”€ database.py # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.py     # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â””â”€â”€ enums.py    # æšä¸¾å®šä¹‰
â”‚   â”œâ”€â”€ schemas/        # Pydanticæ¨¡å¼
â”‚   â”‚   â””â”€â”€ user.py     # ç”¨æˆ·æ¨¡å¼å®šä¹‰
â”‚   â”œâ”€â”€ crud/           # æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â””â”€â”€ user.py     # ç”¨æˆ·CRUDæ“ä½œ
â”‚   â”œâ”€â”€ routers/        # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py     # è®¤è¯è·¯ç”±
â”‚   â”‚   â””â”€â”€ users.py    # ç”¨æˆ·ç®¡ç†è·¯ç”±
â”‚   â”œâ”€â”€ utils/          # å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ security.py # å®‰å…¨å·¥å…·
â”‚   â”‚   â””â”€â”€ deps.py     # ä¾èµ–é¡¹
â”‚   â””â”€â”€ services/       # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ main.py             # ä¸»åº”ç”¨æ–‡ä»¶
â”œâ”€â”€ requirements.txt    # é¡¹ç›®ä¾èµ–
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜
```

## å®‰è£…å’Œè¿è¡Œ

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd BoatManagement_Backend
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. é…ç½®æ•°æ®åº“

åˆ›å»ºMySQLæ•°æ®åº“ï¼š

```sql
CREATE DATABASE boat_tour_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

ä¿®æ”¹ `app/config/settings.py` ä¸­çš„æ•°æ®åº“è¿æ¥é…ç½®ï¼š

```python
database_url: str = "mysql+pymysql://ç”¨æˆ·å:å¯†ç @localhost:3306/boat_tour_db"
```

### 4. è¿è¡Œåº”ç”¨

```bash
python main.py
```

æˆ–ä½¿ç”¨uvicornï¼š

```bash
uvicorn main:app --reload
```

åº”ç”¨å°†åœ¨ http://localhost:8000 å¯åŠ¨

## APIæ–‡æ¡£

å¯åŠ¨åº”ç”¨åï¼Œå¯ä»¥è®¿é—®ï¼š

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

## ç”¨æˆ·è§’è‰²

| è§’è‰² | æƒé™æè¿° |
|------|----------|
| **admin** | ç®¡ç†å‘˜ - æ‹¥æœ‰ç³»ç»Ÿæ‰€æœ‰æƒé™ |
| **merchant** | å•†å®¶ - èˆ¹è‰‡æœåŠ¡æä¾›å•†ï¼Œå¯ç®¡ç†è‡ªå·±çš„æœåŠ¡ |
| **user** | æ™®é€šç”¨æˆ· - æ¸¸å®¢ç”¨æˆ·ï¼Œå¯é¢„è®¢æœåŠ¡ |
| **crew** | èˆ¹å‘˜ - èˆ¹è‰‡æ“ä½œäººå‘˜ï¼Œå¯æ“ä½œèˆ¹è‰‡ç›¸å…³åŠŸèƒ½ |

## å·²å®ç°åŠŸèƒ½

âœ… **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
- ç”¨æˆ·æ³¨å†Œ
- ç”¨æˆ·ç™»å½•
- JWTä»¤ç‰Œè®¤è¯
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- è§’è‰²æƒé™æ§åˆ¶

âœ… **åŸºç¡€æ¶æ„**
- FastAPIåº”ç”¨é…ç½®
- MySQLæ•°æ®åº“è¿æ¥
- CORSè·¨åŸŸé…ç½®
- APIæ–‡æ¡£ç”Ÿæˆ

## å¼€å‘ä¸­åŠŸèƒ½

ğŸ”„ **èˆ¹è‰‡ç®¡ç†ç³»ç»Ÿ**
- èˆ¹è‰‡ä¿¡æ¯ç®¡ç†
- èˆ¹è‰‡çŠ¶æ€ç›‘æ§
- èˆ¹è‰‡ä½ç½®è¿½è¸ª

ğŸ”„ **å†œæ–‡æ—…æœåŠ¡ç³»ç»Ÿ**
- æ—…æ¸¸è·¯çº¿ç®¡ç†
- å†œä¸šåŸºåœ°ç®¡ç†
- æ–‡åŒ–æ´»åŠ¨ç®¡ç†
- é¢„è®¢ç³»ç»Ÿ

## APIæ¥å£ç¤ºä¾‹

### ç”¨æˆ·æ³¨å†Œ

```bash
curl -X POST "http://localhost:8000/api/v1/auth/register" \
     -H "Content-Type: application/json" \
     -d '{
       "username": "testuser",
       "email": "test@example.com",
       "password": "123456",
       "role": "user"
     }'
```

### ç”¨æˆ·ç™»å½•

```bash
curl -X POST "http://localhost:8000/api/v1/auth/login" \
     -H "Content-Type: application/json" \
     -d '{
       "username": "testuser",
       "password": "123456"
     }'
```

### è·å–ç”¨æˆ·ä¿¡æ¯

```bash
curl -X GET "http://localhost:8000/api/v1/auth/me" \
     -H "Authorization: Bearer <your-token>"
```

## å¼€å‘è®¡åˆ’

è¯·æŸ¥çœ‹ `.cursorrules` æ–‡ä»¶äº†è§£è¯¦ç»†çš„å¼€å‘è¿›åº¦å’Œè®¡åˆ’ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚ 